<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Vehicle Gate Pass ‚Äî Royal Automobiles</title>
  <style>
    :root{--bg:#f6f8ff;--card:#ffffff;--brand:#0033a0;--muted:#6b7280;--pad:14px}
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter,Segoe UI,system-ui,-apple-system,Segoe UI Emoji,Arial;background:var(--bg);color:var(--brand)}
    .wrap{max-width:720px;margin:28px auto;padding:18px}
    .card{background:var(--card);border-radius:10px;padding:18px;box-shadow:0 6px 20px rgba(2,6,23,0.06);}
    .hdr{display:flex;gap:12px;align-items:center}
    .logo{width:56px;height:56px;border-radius:8px;background:linear-gradient(135deg,var(--brand),#0056d6);display:flex;align-items:center;justify-content:center;color:white;font-weight:700}
    .title{flex:1}
    .title h1{margin:0;font-size:1.05rem;letter-spacing:0.2px}
    .title p{margin:4px 0 0;font-size:.78rem;color:var(--muted)}

    .grid{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;margin-top:14px}
    .full{grid-column:1/-1}

    label{display:block;font-size:.78rem;color:var(--muted);margin-bottom:6px}
    input[type="text"],input[type="date"],input[type="time"],textarea,select{width:100%;padding:8px 10px;border:1px solid #e6e9f0;border-radius:8px;font-size:.9rem}
    textarea{resize:none;height:64px}

    .meta{display:flex;gap:8px}
    .meta > div{flex:1}

    .footer{display:flex;justify-content:space-between;align-items:center;margin-top:14px}
    .sig{text-align:right;color:var(--muted)}

    .actions{display:flex;gap:8px}
    button{background:var(--brand);color:#fff;border:0;padding:9px 12px;border-radius:8px;cursor:pointer;font-weight:600}
    button.secondary{background:#eef3ff;color:var(--brand)}

    /* compact printable layout */
    @media print{
      body{background:white}
      .wrap{max-width:595px;margin:0}
      .actions, .btn-hide{display:none}
      .card{box-shadow:none;border-radius:0;padding:12px}
    }

    /* tiny responsive tweak */
    @media (max-width:520px){.grid{grid-template-columns:1fr}.hdr{gap:8px}.logo{width:48px;height:48px}}

    /* small helper */
    .muted{color:var(--muted);font-size:.85rem}
    .row{display:flex;gap:8px}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card" id="passCard">
      <div class="hdr">
        <div class="logo">RA</div>
        <div class="title">
          <h1>Royal Automobiles</h1>
          <p>Mak India Mill Road, Goldwins, Coimbatore ‚Äî 641014 ¬∑ royalautomobiles@outlook.com</p>
        </div>
        <div style="text-align:right">
          <div class="muted">Gate Pass</div>
          <div id="gpNo" style="font-weight:700;letter-spacing:0.6px">GP-000001</div>
        </div>
      </div>

      <div class="grid">
        <div>
          <label for="date">Date</label>
          <input id="date" type="date">
        </div>
        <div>
          <label for="time">Time</label>
          <input id="time" type="time">
        </div>

        <div class="full">
          <label for="client">Client / Company</label>
          <input id="client" type="text" placeholder="Customer name or company">
        </div>

        <div>
          <label for="vehicle">Vehicle No.</label>
          <input id="vehicle" type="text" placeholder="TN-XX-XXXX">
        </div>
        <div>
          <label for="driver">Driver</label>
          <input id="driver" type="text" placeholder="Driver name & phone">
        </div>

        <div class="full">
          <label for="items">Items / Remarks</label>
          <textarea id="items" placeholder="List items being delivered or remarks"></textarea>
        </div>

        <div>
          <label for="authorized">Authorized By</label>
          <input id="authorized" type="text" placeholder="Staff name">
        </div>
        <div>
          <label for="copy">Copy</label>
          <select id="copy"><option>Gate</option><option>Client</option><option>Records</option></select>
        </div>
      </div>

      <hr style="margin:14px 0;border:none;border-top:1px dashed #e2e8f0">

      <div class="footer">
        <div class="muted">Please present this pass at entry/exit. Keep vehicle loaded as per items listed.</div>
        <div class="sig">
          <div style="font-weight:700">Authorized Signatory</div>
          <div style="margin-top:10px">____________________</div>
        </div>
      </div>

      <div class="row btn-hide" style="margin-top:12px">
        <button onclick="printPass()">üñ®Ô∏è Print</button>
        <button class="secondary" onclick="resetForm()">Reset</button>
        <button class="secondary" onclick="downloadPNG()">Save PNG</button>
      </div>
    </div>
  </div>

  <script>
    // small helpers: autopopulate date/time and a short gatepass id
    (function(){
      const d=new Date();
      const pad=(n)=>String(n).padStart(2,'0');
      const yyyy=d.getFullYear();
      const mm=pad(d.getMonth()+1); const dd=pad(d.getDate());
      document.getElementById('date').value = yyyy+ '-' + mm + '-' + dd;
      document.getElementById('time').value = pad(d.getHours()) + ':' + pad(d.getMinutes());
      const gp = 'GP-' + yyyy.toString().slice(-2) + mm + dd + '-' + Math.floor(100+Math.random()*900);
      document.getElementById('gpNo').textContent = gp;
    })();

    function resetForm(){
      document.querySelectorAll('#passCard input,#passCard textarea').forEach(el=>{ if(el.type!=='date' && el.type!=='time') el.value=''});
      document.getElementById('items').value='';
    }

    function printPass(){
      window.print();
    }

    // optional: export as PNG (uses browser's print-to-PDF workflow as fallback)
    function downloadPNG(){
      // attempt to use html2canvas if available; otherwise fallback to print dialog
      if(window.html2canvas){
        html2canvas(document.getElementById('passCard')).then(canvas=>{
          const a=document.createElement('a'); a.href=canvas.toDataURL('image/png'); a.download = (document.getElementById('gpNo').textContent || 'gatepass') + '.png'; a.click();
        });
      }else{
        alert('PNG export needs html2canvas library ‚Äî using print dialog as fallback.');
        window.print();
      }
    }
  </script>
</body>
</html>
