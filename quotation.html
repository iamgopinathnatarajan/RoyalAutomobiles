<!-- existing code unchanged up to table section -->

<table id="quotation-table">
  <thead>
    <tr>
      <th>S.No.</th>
      <th>Item & Description</th>
      <th>Qty</th>
      <th>Rate</th>
      <th>Amount</th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td><input type="text"></td>
      <td><input type="number" class="qty" oninput="calculateTotal()"></td>
      <td><input type="number" class="rate" oninput="calculateTotal()"></td>
      <td><input type="number" class="amount" readonly></td>
      <td><button type="button" onclick="removeRow(this)" style="background:red;color:white;border:none;padding:4px 10px;border-radius:4px;cursor:pointer">ðŸ—‘</button></td>
    </tr>
  </tbody>
</table>
<div style="text-align:right; margin: 10px 0;">
  <button type="button" onclick="addRow()" style="background:#0033A0;color:white;padding:8px 16px;border:none;border-radius:4px;cursor:pointer">+ Add Row</button>
</div>
<div style="text-align:right; margin: 10px 0;">
  <button type="button" onclick="downloadPDF()" style="background:#28a745;color:white;padding:8px 16px;border:none;border-radius:4px;cursor:pointer">â¬‡ Save as PDF</button>
</div>

<!-- continue with totals and rest of the document -->

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.min.js"></script>
<script>
function calculateTotal() {
  const rows = document.querySelectorAll('#quotation-table tbody tr');
  let total = 0;
  rows.forEach((row, index) => {
    row.querySelector('td').innerText = index + 1; // update serial number
    const qty = parseFloat(row.querySelector('.qty').value) || 0;
    const rate = parseFloat(row.querySelector('.rate').value) || 0;
    const amount = qty * rate;
    row.querySelector('.amount').value = amount.toFixed(2);
    total += amount;
  });
  const discount = parseFloat(document.getElementById('discount').value) || 0;
  const finalTotal = total - discount;
  document.getElementById('total').value = finalTotal.toFixed(2);
  document.getElementById('amountWords').value = convertNumberToWords(finalTotal);
}

function addRow() {
  const table = document.querySelector('#quotation-table tbody');
  const row = document.createElement('tr');
  row.innerHTML = `
    <td></td>
    <td><input type="text"></td>
    <td><input type="number" class="qty" oninput="calculateTotal()"></td>
    <td><input type="number" class="rate" oninput="calculateTotal()"></td>
    <td><input type="number" class="amount" readonly></td>
    <td><button type="button" onclick="removeRow(this)" style="background:red;color:white;border:none;padding:4px 10px;border-radius:4px;cursor:pointer">ðŸ—‘</button></td>
  `;
  table.appendChild(row);
  calculateTotal();
}

function removeRow(button) {
  const row = button.closest('tr');
  row.remove();
  calculateTotal();
}

function downloadPDF() {
  const element = document.querySelector(".container");
  const opt = {
    margin:       0.5,
    filename:     'Quotation-RoyalAutomobiles.pdf',
    image:        { type: 'jpeg', quality: 0.98 },
    html2canvas:  { scale: 2 },
    jsPDF:        { unit: 'in', format: 'a4', orientation: 'portrait' }
  };
  html2pdf().set(opt).from(element).save();
}
</script>

<!-- existing convertNumberToWords() function remains the same -->
